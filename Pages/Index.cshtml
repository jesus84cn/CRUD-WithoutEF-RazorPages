@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

    <div class="text-center">
        <h1>CRUD operation without EF (create,insert,update and delete)</h1>
        <h3>Display in razor pages using stored procedure/Query</h3>
        <hr />
        
        <form method="post">
            <div class="form-group" style="display:none;">
                Name <input type="text" name="Empname" placeholder="Enter employee name" />
                Email <input type="email" name="Email" placeholder="Enter employee email" />
                Age <input type="number" name="Age" placeholder="Enter employee age" />
                Salary <input type="number" step=".01" name="Salary" placeholder="Enter employee salary" />
                <input type="submit" value="Addnew employee" class="btn btn-primary" />
            </div>
            <div class="form-group" >
                <a asp-page="Add">Add new employee</a>
            </div>
            <table class="table">
                <tr>
                    <th>Employee Id</th>
                    <th>Employee Name</th>
                    <th>Email</th>
                    <th>Age</th>
                    <th>Salary</th>
                    <th></th>
                </tr>
                @foreach (var item in Model.GetRecords)
                {
                    <tr>
                        <td>@item.Empid</td>
                        <td><a asp-page="Details" asp-route-Empid="@item.Empid">@item.Empname</a></td>
                        <td>@item.Email</td>
                        <td>@item.Age</td>
                        <td>@item.Salary</td>
                        <td>
                            <a asp-page="Edit" asp-route-Empid="@item.Empid">Edit</a>
                            <a asp-page="Details" asp-route-Empid="@item.Empid">Details</a>
                            <a asp-page="Delete" asp-route-Empid="@item.Empid">Delete</a>
                        </td>
                    </tr>
                }

            </table>
        </form>
    </div>
